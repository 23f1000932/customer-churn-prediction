<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Customer Churn Prediction | Ayan Hussain</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- React & ReactDOM (Specific Versions) -->
    <script crossorigin src="https://unpkg.com/react@18.2.0/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18.2.0/umd/react-dom.development.js"></script>
    
    <!-- Prop-Types -->
    <script src="https://unpkg.com/prop-types@15.8.1/prop-types.min.js"></script>
    
    <!-- Recharts -->
    <script src="https://unpkg.com/recharts@2.12.7/umd/Recharts.js"></script>
    
    <!-- Babel for JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@0.263.1"></script>

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        mono: ['JetBrains Mono', 'monospace'],
                    },
                    colors: {
                        slate: {
                            850: '#151e2e',
                            900: '#0f172a',
                            950: '#020617',
                        },
                        brand: {
                            teal: '#14b8a6',
                            purple: '#8b5cf6',
                            pink: '#f43f5e'
                        }
                    },
                    animation: {
                        'fade-in-up': 'fadeInUp 0.8s ease-out forwards',
                        'pulse-slow': 'pulse 4s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                        'float': 'float 6s ease-in-out infinite',
                        'typing': 'typing 3.5s steps(40, end)',
                        'cursor': 'blink-caret .75s step-end infinite',
                    },
                    keyframes: {
                        fadeInUp: {
                            '0%': { opacity: '0', transform: 'translateY(20px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' },
                        },
                        float: {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-20px)' },
                        },
                        typing: {
                            'from': { width: '0' },
                            'to': { width: '100%' },
                        },
                        'blink-caret': {
                            'from, to': { borderColor: 'transparent' },
                            '50%': { borderColor: '#14b8a6' },
                        }
                    }
                }
            }
        }
    </script>
    <style>
        body {
            background-color: #020617;
            color: #f8fafc;
            scroll-behavior: smooth;
        }
        .glass-card {
            background: rgba(30, 41, 59, 0.4);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.05);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .glass-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px -10px rgba(20, 184, 166, 0.2);
            border-color: rgba(20, 184, 166, 0.3);
        }
        .gradient-text {
            background: linear-gradient(135deg, #2dd4bf 0%, #a78bfa 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #0f172a;
        }
        ::-webkit-scrollbar-thumb {
            background: #334155;
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #475569;
        }
        .typing-container {
            display: inline-block;
            overflow: hidden;
            border-right: .15em solid #14b8a6; 
            white-space: nowrap; 
            margin: 0 auto; 
            letter-spacing: .15em;
            animation: 
                typing 3.5s steps(40, end),
                blink-caret .75s step-end infinite;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useMemo } = React;
        const { 
            BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer, 
            PieChart, Pie, Cell, LineChart, Line, AreaChart, Area, RadarChart, Radar, PolarGrid, PolarAngleAxis, PolarRadiusAxis 
        } = window.Recharts || {};

        // --- Icons ---
        const Icon = ({ name, size = 24, className }) => {
            if (!window.lucide) return null;
            const lucideIcon = window.lucide.icons[name];
            if (!lucideIcon) return null;
            
            return (
                <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width={size}
                    height={size}
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    strokeWidth="2"
                    strokeLinecap="round"
                    strokeLinejoin="round"
                    className={className}
                    dangerouslySetInnerHTML={{ __html: lucideIcon.toSvg().match(/<svg.*?>(.*?)<\/svg>/)[1] }}
                />
            );
        };

        // --- Data ---
        const SAMPLE_DATA = [
            { id: 0, customer_id: 15788291, last_name: 'Iredale', score: 559, country: 'France', gender: 'Male', age: 28, tenure: 1, balance: 149989, products: 1, active: 1, churn: 0 },
            { id: 1, customer_id: 15642816, last_name: 'Hsueh', score: 694, country: 'France', gender: 'Female', age: 37, tenure: 7, balance: 114510, products: 2, active: 0, churn: 0 },
            { id: 2, customer_id: 15632272, last_name: 'Tien', score: 585, country: 'Spain', gender: 'Female', age: 45, tenure: 8, balance: 0, products: 2, active: 1, churn: 0 },
            { id: 3, customer_id: 15685826, last_name: 'Hightower', score: 589, country: 'Spain', gender: 'Male', age: 25, tenure: 0, balance: 166082, products: 1, active: 1, churn: 0 },
            { id: 4, customer_id: 15658032, last_name: 'Hopkins', score: 701, country: 'France', gender: 'Male', age: 39, tenure: 2, balance: 0, products: 2, active: 0, churn: 0 },
            { id: 5, customer_id: 15650924, last_name: 'Chen', score: 587, country: 'France', gender: 'Male', age: 36, tenure: 5, balance: 123456, products: 1, active: 1, churn: 1 },
            { id: 6, customer_id: 15592388, last_name: 'Smith', score: 850, country: 'Germany', gender: 'Female', age: 43, tenure: 2, balance: 125510, products: 3, active: 1, churn: 1 },
        ];

        const FEATURE_IMPORTANCE = [
            { name: 'Age', importance: 0.35 },
            { name: 'NumOfProducts', importance: 0.22 },
            { name: 'Balance', importance: 0.15 },
            { name: 'IsActiveMember', importance: 0.12 },
            { name: 'Geography', importance: 0.08 },
            { name: 'Gender', importance: 0.05 },
            { name: 'CreditScore', importance: 0.03 },
        ];

        const CHURN_BY_COUNTRY = [
            { name: 'France', Churn: 16, NonChurn: 84 },
            { name: 'Germany', Churn: 32, NonChurn: 68 },
            { name: 'Spain', Churn: 17, NonChurn: 83 },
        ];

        const AGE_DISTRIBUTION = [
            { age: '18-25', ChurnRate: 5 },
            { age: '26-35', ChurnRate: 9 },
            { age: '36-45', ChurnRate: 18 },
            { age: '46-55', ChurnRate: 48 },
            { age: '56-65', ChurnRate: 52 },
            { age: '66+', ChurnRate: 20 },
        ];

        // --- Components ---

        const Nav = () => (
            <nav className="fixed top-0 w-full z-50 glass-card border-b-0 border-b-slate-800 backdrop-blur-md">
                <div className="max-w-7xl mx-auto px-6 h-16 flex items-center justify-between">
                    <div className="flex items-center gap-2 group cursor-pointer">
                        <div className="p-1.5 bg-brand-teal/10 rounded-lg group-hover:bg-brand-teal/20 transition-colors">
                            <Icon name="Database" className="text-brand-teal" />
                        </div>
                        <span className="font-bold text-lg tracking-tight">Churn<span className="text-brand-teal">Pred</span></span>
                    </div>
                    <div className="hidden md:flex gap-8 text-sm font-medium text-slate-400">
                        <a href="#overview" className="hover:text-white transition-colors">Overview</a>
                        <a href="#data" className="hover:text-white transition-colors">Data</a>
                        <a href="#analysis" className="hover:text-white transition-colors">Analysis</a>
                        <a href="#demo" className="text-brand-teal hover:text-teal-400 transition-colors">Live Demo</a>
                    </div>
                    <div className="flex items-center gap-4">
                        <a href="https://github.com" target="_blank" className="flex items-center gap-2 px-4 py-2 bg-slate-100 text-slate-900 rounded-full text-sm font-semibold hover:bg-white hover:scale-105 transition-all shadow-[0_0_15px_rgba(255,255,255,0.3)]">
                            <Icon name="Github" size={16} />
                            <span>View Code</span>
                        </a>
                    </div>
                </div>
            </nav>
        );

        const Hero = () => (
            <section className="relative pt-32 pb-20 px-6 min-h-[90vh] flex items-center justify-center overflow-hidden">
                <div className="absolute inset-0 bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-slate-900 via-slate-950 to-black z-0"></div>
                
                {/* Dynamic Floating Shapes */}
                <div className="absolute top-20 right-20 w-96 h-96 bg-brand-purple/10 rounded-full blur-3xl animate-float"></div>
                <div className="absolute bottom-20 left-20 w-72 h-72 bg-brand-teal/10 rounded-full blur-3xl animate-float" style={{animationDelay: '2s'}}></div>
                <div className="absolute top-40 left-1/2 w-32 h-32 bg-brand-pink/10 rounded-full blur-2xl animate-pulse-slow"></div>

                <div className="relative z-10 max-w-5xl mx-auto text-center">
                    <div className="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-slate-800/50 border border-slate-700 text-brand-teal text-xs font-mono mb-8 animate-fade-in-up hover:bg-slate-800 transition-colors cursor-default">
                        <span className="relative flex h-2 w-2">
                          <span className="animate-ping absolute inline-flex h-full w-full rounded-full bg-teal-400 opacity-75"></span>
                          <span className="relative inline-flex rounded-full h-2 w-2 bg-teal-500"></span>
                        </span>
                        Ayan Hussain | IIT Madras
                    </div>
                    
                    <h1 className="text-5xl md:text-7xl font-bold mb-6 tracking-tight animate-fade-in-up" style={{animationDelay: '0.1s'}}>
                        Predicting Customer <br />
                        <span className="gradient-text typing-container">Churn with XGBoost</span>
                    </h1>
                    
                    <p className="text-lg md:text-xl text-slate-400 mb-10 max-w-2xl mx-auto leading-relaxed animate-fade-in-up" style={{animationDelay: '0.2s'}}>
                        A high-performance machine learning system identifying at-risk customers with <span className="text-white font-semibold">94% accuracy</span>.
                        Designed to empower data-driven retention strategies.
                    </p>
                    
                    <div className="flex flex-col sm:flex-row items-center justify-center gap-4 animate-fade-in-up" style={{animationDelay: '0.3s'}}>
                        <a href="#demo" className="group px-8 py-3 bg-brand-teal text-slate-950 font-bold rounded-lg hover:bg-teal-400 transition-all flex items-center gap-2 shadow-[0_0_20px_rgba(45,212,191,0.3)] hover:shadow-[0_0_30px_rgba(45,212,191,0.5)]">
                            Try Live Predictor
                            <Icon name="ArrowRight" size={18} className="group-hover:translate-x-1 transition-transform" />
                        </a>
                        <a href="#analysis" className="px-8 py-3 bg-slate-800 border border-slate-700 text-white rounded-lg hover:bg-slate-700 transition-all hover:border-slate-500">
                            Explore Analysis
                        </a>
                    </div>
                </div>
            </section>
        );

        const StatsCard = ({ title, value, subtitle, icon, delay, color = "text-brand-teal" }) => (
            <div className="glass-card p-6 rounded-xl animate-fade-in-up group" style={{animationDelay: delay}}>
                <div className="flex items-center justify-between mb-4">
                    <h3 className="text-slate-400 text-sm font-medium">{title}</h3>
                    <div className={`p-2 bg-slate-800 rounded-lg ${color} group-hover:scale-110 transition-transform`}>
                        <Icon name={icon} size={20} />
                    </div>
                </div>
                <div className="text-3xl font-bold text-white mb-1 group-hover:text-brand-teal transition-colors">{value}</div>
                <div className="text-xs text-slate-500 font-mono">{subtitle}</div>
            </div>
        );

        const Section = ({ id, title, children, className = "" }) => (
            <section id={id} className={`py-20 px-6 border-t border-slate-800/50 ${className}`}>
                <div className="max-w-7xl mx-auto">
                    <h2 className="text-3xl font-bold mb-12 flex items-center gap-3">
                        <span className="w-1 h-8 bg-brand-teal rounded-full shadow-[0_0_10px_#14b8a6]"></span>
                        {title}
                    </h2>
                    {children}
                </div>
            </section>
        );

        const Overview = () => (
            <Section id="overview" title="Project Overview">
                <div className="grid md:grid-cols-2 gap-12">
                    <div className="space-y-6 text-slate-300 leading-relaxed">
                        <p>
                            In the competitive banking sector, customer retention is paramount. This project leverages a dataset of <strong>165,034 records</strong> to build a predictive engine capable of flagging customers likely to close their accounts.
                        </p>
                        <p>
                            By analyzing behavioral patterns—such as credit scores, geography, and account activity—I engineered an <strong>XGBoost model</strong> that achieved an F1-Score of 0.89, significantly outperforming traditional logistic regression baselines.
                        </p>
                        <div className="grid grid-cols-2 gap-4 mt-6">
                            <div className="p-4 bg-slate-800/50 rounded-lg border border-slate-700/50 hover:border-brand-purple/50 transition-colors">
                                <h4 className="text-brand-purple font-bold mb-1">Objective</h4>
                                <p className="text-sm text-slate-400">Maximize F1-Score to catch potential churners.</p>
                            </div>
                            <div className="p-4 bg-slate-800/50 rounded-lg border border-slate-700/50 hover:border-brand-teal/50 transition-colors">
                                <h4 className="text-brand-teal font-bold mb-1">Impact</h4>
                                <p className="text-sm text-slate-400">Enable proactive retention campaigns.</p>
                            </div>
                        </div>
                    </div>
                    <div className="grid grid-cols-2 gap-4">
                        <StatsCard title="Dataset Size" value="165k+" subtitle="Rows in Training Set" icon="Database" delay="0.1s" />
                        <StatsCard title="Features" value="13" subtitle="Predictive Variables" icon="List" delay="0.2s" color="text-brand-purple" />
                        <StatsCard title="Model Accuracy" value="94%" subtitle="On Test Set" icon="Target" delay="0.3s" color="text-brand-pink" />
                        <StatsCard title="Algorithm" value="XGBoost" subtitle="Gradient Boosting" icon="Cpu" delay="0.4s" />
                    </div>
                </div>
            </Section>
        );

        const DataShowcase = () => {
            const [searchTerm, setSearchTerm] = useState("");
            
            const filteredData = useMemo(() => {
                return SAMPLE_DATA.filter(row => 
                    row.last_name.toLowerCase().includes(searchTerm.toLowerCase()) ||
                    row.country.toLowerCase().includes(searchTerm.toLowerCase())
                );
            }, [searchTerm]);

            return (
                <Section id="data" title="Interactive Data Explorer">
                    <div className="flex justify-between items-center mb-6">
                         <p className="text-slate-400 text-sm">Explore a sample of the processed dataset.</p>
                         <div className="relative">
                            <Icon name="Search" size={16} className="absolute left-3 top-1/2 -translate-y-1/2 text-slate-500" />
                            <input 
                                type="text" 
                                placeholder="Filter by Name or Country..." 
                                value={searchTerm}
                                onChange={(e) => setSearchTerm(e.target.value)}
                                className="bg-slate-900 border border-slate-700 rounded-full py-2 pl-10 pr-4 text-sm text-white focus:outline-none focus:border-brand-teal w-64 transition-all"
                            />
                         </div>
                    </div>

                    <div className="bg-slate-900 rounded-xl overflow-hidden border border-slate-800 shadow-2xl">
                        <div className="overflow-x-auto">
                            <table className="w-full text-left text-sm text-slate-400">
                                <thead className="bg-slate-800 text-slate-200 uppercase font-mono text-xs">
                                    <tr>
                                        <th className="px-6 py-4">Customer</th>
                                        <th className="px-6 py-4">Score</th>
                                        <th className="px-6 py-4">Country</th>
                                        <th className="px-6 py-4">Gender</th>
                                        <th className="px-6 py-4">Age</th>
                                        <th className="px-6 py-4">Balance</th>
                                        <th className="px-6 py-4">Prod</th>
                                        <th className="px-6 py-4">Status</th>
                                    </tr>
                                </thead>
                                <tbody className="divide-y divide-slate-800">
                                    {filteredData.length > 0 ? (
                                        filteredData.map((row) => (
                                            <tr key={row.id} className="hover:bg-slate-800/50 transition-colors group">
                                                <td className="px-6 py-4">
                                                    <div className="font-medium text-white">{row.last_name}</div>
                                                    <div className="text-xs font-mono text-slate-600">ID: {row.customer_id}</div>
                                                </td>
                                                <td className="px-6 py-4">
                                                    <div className="flex items-center gap-2">
                                                        <div className="w-16 h-1.5 bg-slate-700 rounded-full overflow-hidden">
                                                            <div className="h-full bg-brand-purple" style={{width: `${(row.score/850)*100}%`}}></div>
                                                        </div>
                                                        <span className="text-xs">{row.score}</span>
                                                    </div>
                                                </td>
                                                <td className="px-6 py-4">
                                                    <span className={`px-2 py-1 rounded-full text-xs font-medium border ${
                                                        row.country === 'France' ? 'bg-blue-900/10 border-blue-800 text-blue-400' :
                                                        row.country === 'Germany' ? 'bg-yellow-900/10 border-yellow-800 text-yellow-400' :
                                                        'bg-red-900/10 border-red-800 text-red-400'
                                                    }`}>
                                                        {row.country}
                                                    </span>
                                                </td>
                                                <td className="px-6 py-4">{row.gender}</td>
                                                <td className="px-6 py-4 font-mono text-slate-200">{row.age}</td>
                                                <td className="px-6 py-4 font-mono text-slate-300">${row.balance.toLocaleString()}</td>
                                                <td className="px-6 py-4">{row.products}</td>
                                                <td className="px-6 py-4">
                                                    <span className={`flex items-center gap-1.5 ${row.active ? 'text-emerald-400' : 'text-slate-500'}`}>
                                                        <div className={`w-2 h-2 rounded-full animate-pulse ${row.active ? 'bg-emerald-400' : 'bg-slate-500'}`}></div>
                                                        {row.active ? 'Active' : 'Inactive'}
                                                    </span>
                                                </td>
                                            </tr>
                                        ))
                                    ) : (
                                        <tr>
                                            <td colSpan="8" className="px-6 py-8 text-center text-slate-500">
                                                No results found for "{searchTerm}"
                                            </td>
                                        </tr>
                                    )}
                                </tbody>
                            </table>
                        </div>
                    </div>
                </Section>
            );
        };

        const Analysis = () => (
            <Section id="analysis" title="Visual Insights">
                <div className="grid lg:grid-cols-2 gap-8 mb-12">
                    {/* Insight 1 */}
                    <div className="glass-card p-6 rounded-xl hover:border-brand-purple/30">
                        <div className="flex justify-between items-start mb-6">
                            <div>
                                <h3 className="text-xl font-bold text-white mb-2">Age vs. Churn Risk</h3>
                                <p className="text-slate-400 text-sm">
                                    Risk escalates sharply after age 45.
                                </p>
                            </div>
                            <div className="p-2 bg-brand-purple/10 rounded-lg text-brand-purple">
                                <Icon name="TrendingUp" size={20} />
                            </div>
                        </div>
                        <div className="h-64 w-full">
                            <ResponsiveContainer width="100%" height="100%">
                                <AreaChart data={AGE_DISTRIBUTION}>
                                    <defs>
                                        <linearGradient id="colorAge" x1="0" y1="0" x2="0" y2="1">
                                            <stop offset="5%" stopColor="#8b5cf6" stopOpacity={0.8}/>
                                            <stop offset="95%" stopColor="#8b5cf6" stopOpacity={0}/>
                                        </linearGradient>
                                    </defs>
                                    <CartesianGrid strokeDasharray="3 3" stroke="#334155" vertical={false} opacity={0.3} />
                                    <XAxis dataKey="age" stroke="#94a3b8" fontSize={12} tickLine={false} axisLine={false} />
                                    <YAxis stroke="#94a3b8" fontSize={12} tickLine={false} axisLine={false} />
                                    <Tooltip 
                                        contentStyle={{ backgroundColor: '#0f172a', borderColor: '#334155', color: '#f8fafc', borderRadius: '8px' }}
                                        itemStyle={{ color: '#a78bfa' }}
                                    />
                                    <Area type="monotone" dataKey="ChurnRate" stroke="#8b5cf6" strokeWidth={3} fillOpacity={1} fill="url(#colorAge)" name="Churn Rate %" animationDuration={2000} />
                                </AreaChart>
                            </ResponsiveContainer>
                        </div>
                    </div>

                    {/* Insight 2 */}
                    <div className="glass-card p-6 rounded-xl hover:border-brand-pink/30">
                         <div className="flex justify-between items-start mb-6">
                            <div>
                                <h3 className="text-xl font-bold text-white mb-2">Geography Impact</h3>
                                <p className="text-slate-400 text-sm">
                                    Germany has ~2x churn rate vs France/Spain.
                                </p>
                            </div>
                            <div className="p-2 bg-brand-pink/10 rounded-lg text-brand-pink">
                                <Icon name="Globe" size={20} />
                            </div>
                        </div>
                        <div className="h-64 w-full">
                            <ResponsiveContainer width="100%" height="100%">
                                <BarChart data={CHURN_BY_COUNTRY}>
                                    <CartesianGrid strokeDasharray="3 3" stroke="#334155" vertical={false} opacity={0.3} />
                                    <XAxis dataKey="name" stroke="#94a3b8" fontSize={12} tickLine={false} axisLine={false} />
                                    <YAxis stroke="#94a3b8" fontSize={12} tickLine={false} axisLine={false} />
                                    <Tooltip 
                                        contentStyle={{ backgroundColor: '#0f172a', borderColor: '#334155', color: '#f8fafc', borderRadius: '8px' }}
                                        cursor={{fill: '#334155', opacity: 0.2}}
                                    />
                                    <Legend iconType="circle" />
                                    <Bar dataKey="Churn" fill="#f43f5e" radius={[4, 4, 0, 0]} name="Churn %" animationDuration={2000} />
                                    <Bar dataKey="NonChurn" fill="#14b8a6" radius={[4, 4, 0, 0]} name="Retained %" animationDuration={2000} />
                                </BarChart>
                            </ResponsiveContainer>
                        </div>
                    </div>
                </div>

                <div className="glass-card p-8 rounded-xl relative overflow-hidden">
                    <div className="absolute top-0 right-0 w-64 h-64 bg-brand-teal/5 rounded-full blur-3xl -z-10"></div>
                    <div className="flex flex-col md:flex-row gap-8 items-center">
                        <div className="flex-1">
                            <div className="inline-block p-2 bg-brand-teal/10 rounded-lg text-brand-teal mb-4">
                                <Icon name="Zap" size={24} />
                            </div>
                            <h3 className="text-2xl font-bold text-white mb-4">Feature Importance Analysis</h3>
                            <p className="text-slate-400 mb-6 leading-relaxed">
                                The XGBoost model identified <strong>Age</strong> as the primary driver of churn, followed by product density and account balance. Interestingly, Credit Score had minimal impact compared to behavioral factors.
                            </p>
                            <ul className="space-y-4">
                                <li className="flex items-start gap-3 text-sm text-slate-300">
                                    <Icon name="CheckCircle" size={18} className="text-brand-teal mt-0.5" />
                                    <span><strong>Active Status:</strong> Active members are 40% less likely to churn, indicating engagement is key.</span>
                                </li>
                                <li className="flex items-start gap-3 text-sm text-slate-300">
                                    <Icon name="AlertTriangle" size={18} className="text-brand-pink mt-0.5" />
                                    <span><strong>Product Overload:</strong> Customers with 3+ products churn at nearly 100% (likely system anomaly or poor service fit).</span>
                                </li>
                            </ul>
                        </div>
                        <div className="flex-1 w-full h-80">
                            <ResponsiveContainer width="100%" height="100%">
                                <BarChart layout="vertical" data={FEATURE_IMPORTANCE} margin={{ left: 20 }}>
                                    <CartesianGrid strokeDasharray="3 3" stroke="#334155" horizontal={false} opacity={0.3} />
                                    <XAxis type="number" stroke="#94a3b8" fontSize={12} tickLine={false} axisLine={false} />
                                    <YAxis dataKey="name" type="category" stroke="#94a3b8" fontSize={12} tickLine={false} axisLine={false} width={100} />
                                    <Tooltip 
                                        contentStyle={{ backgroundColor: '#0f172a', borderColor: '#334155', color: '#f8fafc', borderRadius: '8px' }}
                                        cursor={{fill: '#334155', opacity: 0.2}}
                                    />
                                    <Bar dataKey="importance" fill="#2dd4bf" radius={[0, 4, 4, 0]} barSize={20} animationDuration={1500}>
                                         {FEATURE_IMPORTANCE.map((entry, index) => (
                                            <Cell key={`cell-${index}`} fill={index < 3 ? '#2dd4bf' : '#334155'} />
                                          ))}
                                    </Bar>
                                </BarChart>
                            </ResponsiveContainer>
                        </div>
                    </div>
                </div>
            </Section>
        );

        const PredictionDemo = () => {
            const [inputs, setInputs] = useState({
                age: 35,
                score: 650,
                location: 'France',
                products: 1,
                active: true
            });
            const [prediction, setPrediction] = useState(null);
            const [isAnimating, setIsAnimating] = useState(false);

            const calculateRisk = () => {
                setIsAnimating(true);
                // Mock Logic mimicking the XGBoost model patterns
                let risk = 0.15; // Base risk

                // Age Factor (Strongest)
                if (inputs.age > 45) risk += 0.40;
                else if (inputs.age > 35) risk += 0.15;

                // Location Factor
                if (inputs.location === 'Germany') risk += 0.20;

                // Product Factor
                if (inputs.products === 2) risk -= 0.10; // 2 products is sweet spot
                if (inputs.products >= 3) risk += 0.50; // High risk

                // Active Factor
                if (inputs.active) risk -= 0.15;

                // Credit Score (Weak impact)
                if (inputs.score < 400) risk += 0.10;

                // Clamp
                risk = Math.max(0.01, Math.min(0.99, risk));
                
                setTimeout(() => {
                    setPrediction(risk);
                    setIsAnimating(false);
                }, 800);
            };

            const getRiskLevel = (p) => {
                if (p < 0.3) return { text: "Low Risk", color: "text-emerald-400", bg: "bg-emerald-400" };
                if (p < 0.6) return { text: "Moderate Risk", color: "text-yellow-400", bg: "bg-yellow-400" };
                return { text: "High Churn Risk", color: "text-red-500", bg: "bg-red-500" };
            }

            return (
                <Section id="demo" title="Live Churn Predictor">
                    <div className="grid lg:grid-cols-2 gap-12 items-center">
                        <div className="order-2 lg:order-1">
                            <div className="glass-card p-8 rounded-xl border border-slate-700">
                                <h3 className="text-xl font-bold text-white mb-6 flex items-center gap-2">
                                    <Icon name="Sliders" size={20} className="text-brand-teal" />
                                    Customer Parameters
                                </h3>
                                
                                <div className="space-y-6">
                                    <div>
                                        <div className="flex justify-between text-sm mb-2">
                                            <label className="text-slate-400">Age</label>
                                            <span className="text-brand-teal font-mono">{inputs.age} years</span>
                                        </div>
                                        <input 
                                            type="range" min="18" max="80" value={inputs.age} 
                                            onChange={(e) => setInputs({...inputs, age: parseInt(e.target.value)})}
                                            className="w-full h-2 bg-slate-800 rounded-lg appearance-none cursor-pointer accent-brand-teal"
                                        />
                                    </div>

                                    <div>
                                        <div className="flex justify-between text-sm mb-2">
                                            <label className="text-slate-400">Credit Score</label>
                                            <span className="text-brand-teal font-mono">{inputs.score}</span>
                                        </div>
                                        <input 
                                            type="range" min="350" max="850" value={inputs.score} 
                                            onChange={(e) => setInputs({...inputs, score: parseInt(e.target.value)})}
                                            className="w-full h-2 bg-slate-800 rounded-lg appearance-none cursor-pointer accent-brand-teal"
                                        />
                                    </div>

                                    <div className="grid grid-cols-2 gap-4">
                                        <div>
                                            <label className="block text-slate-400 text-sm mb-2">Geography</label>
                                            <select 
                                                value={inputs.location}
                                                onChange={(e) => setInputs({...inputs, location: e.target.value})}
                                                className="w-full bg-slate-900 border border-slate-700 rounded-lg p-2.5 text-white text-sm focus:border-brand-teal outline-none"
                                            >
                                                <option value="France">France</option>
                                                <option value="Germany">Germany</option>
                                                <option value="Spain">Spain</option>
                                            </select>
                                        </div>
                                        <div>
                                            <label className="block text-slate-400 text-sm mb-2">Products</label>
                                            <select 
                                                value={inputs.products}
                                                onChange={(e) => setInputs({...inputs, products: parseInt(e.target.value)})}
                                                className="w-full bg-slate-900 border border-slate-700 rounded-lg p-2.5 text-white text-sm focus:border-brand-teal outline-none"
                                            >
                                                <option value="1">1 Product</option>
                                                <option value="2">2 Products</option>
                                                <option value="3">3 Products</option>
                                                <option value="4">4 Products</option>
                                            </select>
                                        </div>
                                    </div>

                                    <div className="flex items-center gap-3 pt-2">
                                        <button 
                                            onClick={() => setInputs({...inputs, active: !inputs.active})}
                                            className={`w-12 h-6 rounded-full transition-colors relative ${inputs.active ? 'bg-brand-teal' : 'bg-slate-700'}`}
                                        >
                                            <div className={`w-4 h-4 bg-white rounded-full absolute top-1 transition-transform ${inputs.active ? 'left-7' : 'left-1'}`}></div>
                                        </button>
                                        <span className="text-slate-300 text-sm">Is Active Member?</span>
                                    </div>

                                    <button 
                                        onClick={calculateRisk}
                                        className="w-full py-3 bg-brand-teal text-slate-900 font-bold rounded-lg hover:bg-teal-400 transition-all flex justify-center items-center gap-2 mt-4"
                                    >
                                        {isAnimating ? 'Analyzing...' : 'Predict Churn Probability'}
                                        {!isAnimating && <Icon name="Cpu" size={18} />}
                                    </button>
                                </div>
                            </div>
                        </div>

                        <div className="order-1 lg:order-2 flex flex-col items-center justify-center text-center">
                            {prediction !== null ? (
                                <div className={`relative animate-fade-in-up w-full max-w-sm`}>
                                     {/* Gauge Background */}
                                     <div className="relative w-64 h-32 overflow-hidden mx-auto mb-6">
                                        <div className="absolute top-0 left-0 w-full h-64 bg-slate-800 rounded-full"></div>
                                        <div 
                                            className={`absolute top-0 left-0 w-full h-64 rounded-full transition-all duration-1000 ease-out origin-bottom ${getRiskLevel(prediction).bg}`}
                                            style={{ transform: `rotate(${(prediction * 180) - 180}deg)` }}
                                        ></div>
                                        <div className="absolute bottom-0 left-1/2 -translate-x-1/2 w-48 h-48 bg-slate-950 rounded-full flex items-end justify-center pb-8">
                                            <span className="text-5xl font-bold text-white">{(prediction * 100).toFixed(0)}%</span>
                                        </div>
                                     </div>
                                     
                                     <h4 className={`text-2xl font-bold mb-2 ${getRiskLevel(prediction).color}`}>
                                        {getRiskLevel(prediction).text}
                                     </h4>
                                     <p className="text-slate-400 text-sm">
                                        Based on the XGBoost model patterns, a customer with this profile has a <strong>{(prediction * 100).toFixed(1)}%</strong> probability of exiting.
                                     </p>
                                </div>
                            ) : (
                                <div className="text-center p-12 opacity-50">
                                    <div className="w-24 h-24 bg-slate-800 rounded-full mx-auto mb-6 flex items-center justify-center animate-pulse">
                                        <Icon name="Activity" size={40} className="text-slate-600" />
                                    </div>
                                    <h4 className="text-xl font-medium text-slate-300">Ready to Analyze</h4>
                                    <p className="text-slate-500 mt-2">Adjust parameters and hit predict to see the model in action.</p>
                                </div>
                            )}
                        </div>
                    </div>
                </Section>
            );
        }

        const Footer = () => (
            <footer className="bg-slate-950 py-12 border-t border-slate-900 mt-20">
                <div className="max-w-7xl mx-auto px-6 text-center">
                    <h2 className="text-2xl font-bold text-white mb-6">Let's Connect</h2>
                    
                    <div className="flex flex-col items-center gap-4 mb-8 text-slate-400">
                        <div className="flex flex-col md:flex-row gap-6 md:gap-8">
                            <p className="flex items-center justify-center gap-2">
                                <Icon name="MapPin" size={16} className="text-brand-teal" />
                                <span>Jahnavi Residency, D Gate IISC, Bangalore</span>
                            </p>
                            <a href="tel:+917081012288" className="flex items-center justify-center gap-2 hover:text-white transition-colors">
                                <Icon name="Phone" size={16} className="text-brand-teal" />
                                <span>+91 7081012288</span>
                            </a>
                        </div>
                        <a href="mailto:ayanhussain4212@gmail.com" className="flex items-center gap-2 hover:text-white transition-colors">
                            <Icon name="Mail" size={16} className="text-brand-teal" />
                            <span>ayanhussain4212@gmail.com</span>
                        </a>
                    </div>

                    <div className="flex justify-center gap-6 mb-8">
                        <a href="https://github.com" target="_blank" className="p-3 bg-slate-900 rounded-full text-slate-400 hover:text-white hover:bg-slate-800 hover:scale-110 transition-all border border-slate-800 hover:border-brand-teal">
                            <Icon name="Github" size={24} />
                        </a>
                        <a href="https://www.linkedin.com/in/ayan-hussain-58752626b" target="_blank" className="p-3 bg-slate-900 rounded-full text-slate-400 hover:text-white hover:bg-slate-800 hover:scale-110 transition-all border border-slate-800 hover:border-brand-purple">
                            <Icon name="Linkedin" size={24} />
                        </a>
                        <a href="mailto:ayanhussain4212@gmail.com" className="p-3 bg-slate-900 rounded-full text-slate-400 hover:text-white hover:bg-slate-800 hover:scale-110 transition-all border border-slate-800 hover:border-brand-pink">
                            <Icon name="Mail" size={24} />
                        </a>
                    </div>
                    <p className="text-slate-600 text-sm">
                        &copy; 2024 Ayan Hussain. Built with React & Tailwind.
                    </p>
                </div>
            </footer>
        );

        const App = () => {
            if (!window.Recharts) {
                 return <div className="text-white p-10 text-center">Error: Visualization library (Recharts) failed to load. Please refresh.</div>
            }

            return (
                <div className="antialiased selection:bg-brand-teal selection:text-slate-900">
                    <Nav />
                    <Hero />
                    <Overview />
                    <DataShowcase />
                    <Analysis />
                    <PredictionDemo />
                    <Footer />
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
